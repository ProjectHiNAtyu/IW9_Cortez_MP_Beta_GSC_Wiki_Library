// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

setupcallbacks()
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    if ( game["gameStateRestore"]._id_286C2E4A621DBE57 )
    {
        if ( isdefined( level.onplayerspawncallbacks ) )
            level.onplayerspawncallbacks[level.onplayerspawncallbacks.size] = ::onplayerspawn;
        else
            level.onplayerspawncallbacks[0] = ::onplayerspawn;
    }
}

onplayerspawn()
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    if ( game["gameStateRestore"]._id_286C2E4A621DBE57 )
        _id_C197C8F84A75B476();
}

_id_C197C8F84A75B476()
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    _id_9C7DA2D0CB6B8DC4 = game["gameStateRestore"];

    foreach ( _id_0AD3658A1088AF24 in _id_9C7DA2D0CB6B8DC4.players )
    {
        if ( _id_0AD3658A1088AF24.identifier != self.name )
            continue;

        _id_BC22A4311E741BB3( self, _id_0AD3658A1088AF24 );
        _id_A5D40EC6023315A0( self.name );
        break;
    }
}

_id_A5D40EC6023315A0( _id_81A6DCF8641471F7 )
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < game["gameStateRestore"].players.size; _id_AC0E594AC96AA3A8++ )
    {
        if ( game["gameStateRestore"].players[_id_AC0E594AC96AA3A8].identifier == _id_81A6DCF8641471F7 )
        {
            game["gameStateRestore"].players[_id_AC0E594AC96AA3A8] = undefined;
            break;
        }
    }

    if ( game["gameStateRestore"].players.size <= 0 )
        game["gameStateRestore"]._id_286C2E4A621DBE57 = 0;
}

_id_3433FF82F51BCE6D()
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    game["gameStateRestore"] = _id_548072087C9FD504::_id_8C8838610394416A();
}

_id_BC001C2EBD383FFF()
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    if ( !isdefined( game["gameStateRestore"] ) || !game["gameStateRestore"]._id_286C2E4A621DBE57 )
        return;

    _id_A1B29777F1D4D2DC = game["gameStateRestore"];
    game["roundsWon"]["allies"] = _id_A1B29777F1D4D2DC._id_462CCACDBC27588F;
    game["roundsWon"]["axis"] = _id_A1B29777F1D4D2DC._id_E861F99F136BD454;
    game["teamScores"]["allies"] = _id_A1B29777F1D4D2DC._id_462CCACDBC27588F;
    game["teamScores"]["axis"] = _id_A1B29777F1D4D2DC._id_E861F99F136BD454;
    setteamscore( "allies", _id_A1B29777F1D4D2DC._id_462CCACDBC27588F );
    setteamscore( "axis", _id_A1B29777F1D4D2DC._id_E861F99F136BD454 );
    _id_A1B29777F1D4D2DC._id_462CCACDBC27588F = undefined;
    _id_A1B29777F1D4D2DC._id_E861F99F136BD454 = undefined;
}

_id_BC22A4311E741BB3( player, _id_0AD3658A1088AF24 )
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    if ( !isdefined( game["gameStateRestore"] ) || !game["gameStateRestore"]._id_286C2E4A621DBE57 )
        return;

    _id_252C1AD767A7A83C( player, _id_0AD3658A1088AF24 );
}

_id_252C1AD767A7A83C( player, _id_0AD3658A1088AF24 )
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;

    if ( _id_0AD3658A1088AF24._id_56F525DE50B57A43 < 0 )
        _id_0AD3658A1088AF24._id_56F525DE50B57A43 = 0;

    player.streakpoints = _id_0AD3658A1088AF24._id_56F525DE50B57A43;
    _id_29E4A7C172E0F561 = _id_0AD3658A1088AF24.killstreaks.used;
    _id_44639C5856852937 = _id_0AD3658A1088AF24.killstreaks.earned;

    for ( _id_015314DA30B44470 = 1; _id_015314DA30B44470 <= 3; _id_015314DA30B44470++ )
    {
        _id_8ABA3809EFED9EED = _id_0AD3658A1088AF24._id_56F525DE50B57A43;
        _id_153FDEE861E0F06F = _id_0AD3658A1088AF24.killstreaks[_id_015314DA30B44470];
        _id_90A0B6FCE25C0986 = _id_153FDEE861E0F06F.used;
        _id_724676BE205E0DF0 = _id_153FDEE861E0F06F.earned;

        if ( _id_90A0B6FCE25C0986 )
            continue;

        if ( _id_724676BE205E0DF0 )
        {
            _id_6D029727F4E7F7E8 = player scripts\mp\killstreaks\killstreaks::getkillstreakinslot( _id_015314DA30B44470 );
            _id_8ABA3809EFED9EED = player scripts\mp\killstreaks\killstreaks::calcstreakcost( _id_6D029727F4E7F7E8.streakname );
        }

        player scripts\mp\killstreaks\killstreaks::_id_19DA1DB57971906A( _id_015314DA30B44470, _id_8ABA3809EFED9EED );
        player scripts\mp\killstreaks\killstreaks::updatestreakmeterui();
    }
}

_id_EB800AB2BE810565( player, _id_0AD3658A1088AF24 )
{
    if ( getdvarint( "dvar_7DFC9D99D9C1FF2F", 0 ) == 0 )
        return;
}
