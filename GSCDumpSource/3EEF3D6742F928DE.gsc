// IW9 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( getdvar( "dvar_687FB8F9B7A23245" ) == "mp_background" )
        return;

    scripts\mp\globallogic::init();
    scripts\mp\globallogic::setupcallbacks();
    _id_9BBACB179DEA3237[0] = scripts\mp\utility\game::getgametype();
    _id_9BBACB179DEA3237[1] = "arm";
    scripts\mp\gameobjects::main( _id_9BBACB179DEA3237 );

    if ( isusingmatchrulesdata() )
    {
        level.initializematchrules = ::initializematchrules;
        [[ level.initializematchrules ]]();
        level thread scripts\mp\utility\game::reinitializematchrulesonmigration();
    }
    else
    {
        scripts\mp\utility\game::registertimelimitdvar( scripts\mp\utility\game::getgametype(), 150 );
        scripts\mp\utility\game::registerscorelimitdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerroundlimitdvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerwinlimitdvar( scripts\mp\utility\game::getgametype(), 3 );
        scripts\mp\utility\game::registernumlivesdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerhalftimedvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerroundswitchdvar( scripts\mp\utility\game::getgametype(), 1, 0, 9 );
    }

    setdvar( "dvar_405E7E20D91344CC", 0 );
    setdvar( "dvar_42EECE3F15E35B3D", 1 );
    setdvar( "dvar_A22F98E2C5B506CE", 30 );
    setdvar( "dvar_E4FA721677F03DE0", 1 );
    setdvar( "dvar_0CBC195EC2129279", 0 );
    setomnvar( "ui_num_dom_flags", 1 );
    enablegroundwarspawnlogic( 400, 1200 );
    updategametypedvars();
    _id_8731C366897E87D8();
    _id_451A1A9BD9613164::_id_8ECE37593311858A( ::onplayerconnect );
    scripts\mp\utility\spawn_event_aggregator::registeronplayerspawncallback( ::onplayerspawned );
    scripts\mp\utility\join_team_aggregator::registeronplayerjointeamcallback( ::onjoinedteam );
    scripts\mp\utility\disconnect_event_aggregator::registerondisconnecteventcallback( ::onplayerdisconnect );
    level.objectivebased = 1;
    level.teambased = 1;
    level._id_11525426FEEB297A = 1;
    level._id_D040719163E20394 = 1;
    level._id_A0F41EC8E5268D15 = getdvarint( "dvar_C3BABB46FE3FD12B", 1 ) == 1;
    level.onstartgametype = ::onstartgametype;
    level.getspawnpoint = ::getspawnpoint;
    level.modeonspawnplayer = ::modeonspawnplayer;
    level.onplayerkilled = ::onplayerkilled;
    level.onnormaldeath = ::onnormaldeath;
    level.ontimelimit = ::ontimelimit;
    level.onscorelimit = ::onscorelimit;
    level._id_947925F5FC6939A3 = ::_id_947925F5FC6939A3;
    level._id_3E175C0B6527751F = ::_id_3E175C0B6527751F;

    if ( getdvarint( "dvar_78653010D584AA6E", 0 ) == 0 )
    {
        _id_37B8974363AB1E5C = int( tablelookup( "mp/gametypesTable.csv", 0, "gwai", 5 ) );
        level.allowclasschoice = getdvarint( "dvar_72CC643F082B112B", _id_37B8974363AB1E5C ) == 1;
    }
    else
        level.allowclasschoice = level._id_62F6F7640E4431E3.allowclasschoice;

    if ( !level.allowclasschoice )
        level.bypassclasschoicefunc = scripts\mp\class::alwaysgamemodeclass;

    level.allowclasschoicefunc = ::allowclasschoicefunc;
    level.domflag_setneutral = _id_6663215F917210AE::domflag_setneutral;
    level.dompoint_setcaptured = _id_6663215F917210AE::dompoint_setcaptured;
    level._id_E637D49948A038D3 = ::getmissedinfilcamerapositions;
    game["dialog"]["gametype"] = "gametype_groundwar";

    if ( scripts\cp_mp\utility\game_utility::_id_0B2C4B42F9236924() )
        game["dialog"]["gametype"] = "hc_" + game["dialog"]["gametype"];
    else if ( getdvarint( "dvar_C00E244EA59D530E" ) )
        game["dialog"]["gametype"] = "thirdp_" + game["dialog"]["gametype"];
    else if ( getdvarint( "dvar_4A2B3D01A81655A6" ) )
        game["dialog"]["gametype"] = "dh_" + game["dialog"]["gametype"];
    else if ( getdvarint( _func_2EF675C13CA1C4AF( "dvar_D98C82B5A26DC973", scripts\mp\utility\game::getgametype(), "_promode" ) ) )
        game["dialog"]["gametype"] = game["dialog"]["gametype"] + "_pro";

    game["dialog"]["offense_obj"] = "boost_groundwar";
    game["dialog"]["defense_obj"] = "boost_groundwar";
    game["dialog"]["obj_destroyed"] = "obj_destroyed";
    game["dialog"]["obj_captured"] = "obj_captured";
    game["dialog"]["securing_a"] = "securing_a";
    game["dialog"]["securing_b"] = "securing_b";
    game["dialog"]["securing_c"] = "securing_c";
    game["dialog"]["securing_d"] = "securing_d";
    game["dialog"]["securing_e"] = "securing_e";
    game["dialog"]["secured_a"] = "secured_a";
    game["dialog"]["secured_b"] = "secured_b";
    game["dialog"]["secured_c"] = "secured_c";
    game["dialog"]["secured_d"] = "secured_d";
    game["dialog"]["secured_e"] = "secured_e";
    game["dialog"]["losing_a"] = "losing_a";
    game["dialog"]["losing_b"] = "losing_b";
    game["dialog"]["losing_c"] = "losing_c";
    game["dialog"]["losing_d"] = "losing_d";
    game["dialog"]["losing_e"] = "losing_e";
    game["dialog"]["lost_a"] = "lost_a";
    game["dialog"]["lost_b"] = "lost_b";
    game["dialog"]["lost_c"] = "lost_c";
    game["dialog"]["lost_d"] = "lost_d";
    game["dialog"]["lost_e"] = "lost_e";
    game["dialog"]["lost_all"] = "gamestate_domlosing";
    game["dialog"]["secure_all"] = "gamestate_domwinning";
    game["dialog"]["hp_new_location"] = "iw9_mphq_mode_uktl_hqnl";
    game["dialog"]["hp_active"] = "iw9_mphq_mode_uktl_hqoa";
    level._effect["vfx_smk_signal_gr"] = loadfx( "vfx/_requests/mp_gameplay/vfx_smk_signal_gr" );
    level._effect["vfx_snatch_ac130_clouds"] = loadfx( "vfx/iw8_mp/gamemode/vfx_snatch_ac130_clouds.vfx" );
    level._effect["vfx_br_infil_cloud_scroll"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_cloud_scroll.vfx" );
    level._effect["vfx_br_infil_jump_smoke_01"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_jump_smoke_01.vfx" );
    level._effect["vfx_br_infil_jump_wisp_01"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_jump_wisp_01.vfx" );
    level._effect["vfx_br_infil_jump_wisp_02"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_jump_wisp_02.vfx" );
    level._effect["vfx_br_infil_omni_light"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_omni_light.vfx" );
    level._effect["vfx_br_infil_spot_light"] = loadfx( "vfx/iw8_br/gameplay/infil/vfx_br_infil_spot_light.vfx" );
    level._id_8E9DABA162280A8E = getdvarint( "dvar_19E5CADA53CCF044", 0 ) == 1;
    level._id_EAA760F325371803 = getdvarint( "dvar_1DB3F1F01240E877", 0 ) == 1;
    level._id_7F5BE0207E7457B1 = getdvarint( "dvar_27ABAA55D7EC8EB9", 1 ) == 1;
    level.dropbrloot = getdvarint( "dvar_1D196605F8A290E3", 0 );
    level.br_plunder_enabled = getdvarint( "dvar_A6A9B41B654AFD1D", 0 );
    level._id_C59C301EAABC2E32 = getdvarint( "dvar_19FAE1AAD58E8C50", 1 );

    if ( level.br_plunder_enabled )
    {
        _id_600B944A95C3A7BF::init();
        level._id_E247454AC2869696 = 0;
        _id_2D9D24F7C63AC143::_id_E0948A1E98E82AE1();
    }

    level._id_1E17E3480B1D264D = getdvarint( "dvar_644F043F54D141F5", 0 );

    if ( level._id_1E17E3480B1D264D )
        level._id_9C1E3C18B99409E9 = scripts\mp\utility\points::_id_9C1E3C18B99409E9;

    level.numnonrallyvehicles = getdvarint( "dvar_87F140CAF9A39BF8", 25 );
    level.disablepersonalnuke = getdvarint( "dvar_F271257BDDC28C95", 0 );
    level.personalnukecostoverride = getdvarint( "dvar_D9455F252FCCDB97", 30 );
    thread _id_658C8F668D2CD83C();
    level._id_CBB6EC6B15529252 = 1;
    scripts\engine\utility::flag_init( "stealth_enabled" );
    scripts\engine\utility::flag_init( "level_stealth_initialized" );
    scripts\engine\utility::flag_init( "stealth_spotted" );
}

initializematchrules()
{
    scripts\mp\utility\game::setcommonrulesfrommatchrulesdata();
    setdynamicdvar( "dvar_91E20857EAC63FEC", getmatchrulesdata( "kothData", "zoneLifetime" ) );
    setdynamicdvar( "dvar_F1E2AD7B49A2950E", getmatchrulesdata( "kothData", "zoneCaptureTime" ) );
    setdynamicdvar( "dvar_5B570D65BFB53DD6", getmatchrulesdata( "kothData", "zoneActivationDelay" ) );
    setdynamicdvar( "dvar_4C1DF01A5A39A443", getmatchrulesdata( "kothData", "randomLocationOrder" ) );
    setdynamicdvar( "dvar_138255F174CB2FFE", getmatchrulesdata( "kothData", "additiveScoring" ) );
    setdynamicdvar( "dvar_DAC36DF32772FAFC", getmatchrulesdata( "kothData", "pauseTime" ) );
    setdynamicdvar( "dvar_EC23199E59D8A5DD", getmatchrulesdata( "kothData", "delayPlayer" ) );
    setdynamicdvar( "dvar_5A27983B99C82687", getmatchrulesdata( "tdefData", "spawnDelay" ) );
    scripts\mp\utility\game::registerhalftimedvar( "gwai", 0 );
}

onstartgametype()
{
    level.requiredplayercountoveride = 1;

    foreach ( team in level.teamnamelist )
        level.requiredplayercount[team] = int( level.maxteamsize * 0.75 );

    if ( !level.multiteambased )
    {
        if ( !isdefined( game["switchedsides"] ) )
            game["switchedsides"] = 0;

        if ( game["switchedsides"] )
        {
            _id_2B21F2FBE8DD5C6E = game["attackers"];
            _id_8D904E28CF14C8AE = game["defenders"];
            game["attackers"] = _id_8D904E28CF14C8AE;
            game["defenders"] = _id_2B21F2FBE8DD5C6E;
        }
    }

    setclientnamemode( "auto_change" );
    level.objectives = [];
    level.uncapturableobjectives = [];
    initspawns();
    seticonnames();
    level.usedomflag = 0;
    level.killstreakqueue = [];
    level thread setupwaypointicons();
    setupobjectives();
    level thread runobjectives();
    level.numhqtanks_axis = 0;
    level.numhqtanks_allies = 0;
    level.maxhqtanks = 0;
    thread _id_27C2DB69A21775A0::init_groundwarvehicles();
    scripts\mp\utility\dialog::initstatusdialog();
    emergency_cleanupents();
    scripts\cp_mp\parachute::initparachutedvars();

    if ( getdvarint( "dvar_880384E6DFE250BA", 0 ) == 1 )
    {
        _id_4384ABBF498DF6A7::init();
        _id_4384ABBF498DF6A7::_id_B38F5FFE645943C3( "personalOnly" );
    }

    level thread _id_8F1B9042D7FDFCDA();
    level thread _id_669760F0500E4358::_id_EA36530D601DAE30();
}

updategametypedvars()
{
    _id_0FD32F08E72B657F::updatecommongametypedvars();
    level._id_47E0745BAFF5B43F = scripts\mp\utility\dvars::dvarintvalue( "newObjectiveRoundCount", 2, 0, 10 );
    level._id_B72C7E9840EAFEA2 = scripts\mp\utility\dvars::dvarfloatvalue( "zoneHideTime", 120, 0, 300 );
    level._id_BA68025AC7877C84 = scripts\mp\utility\dvars::dvarfloatvalue( "zoneLockedTime", 120, 0, 300 );
    level.zonecapturetime = scripts\mp\utility\dvars::dvarfloatvalue( "zoneCaptureTime", 15, 0, 60 );
    level.objectivescaler = scripts\mp\utility\dvars::dvarfloatvalue( "objScalar", 1, 1, 10 );
    level.pausemodetimer = 0;
}

seticonnames()
{
    level.icontarget = "hq_target";
    level.iconneutral = "hq_neutral";
    level.iconcapture = "hq_destroy";
    level.icondefend = "hq_defend";
    level.iconcontested = "hq_contested";
    level.icontaking = "hq_taking";
    level.iconlosing = "hq_losing";
    level.icondefending = "hq_defending";
}

emergency_cleanupents()
{
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "delete_on_load", "targetname" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "vehicle_volume", "script_noteworthy" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "vehicle_volume_simplified", "script_noteworthy" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "super", "script_noteworthy" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "militarybase", "script_noteworthy" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "location_volume", "targetname" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "locale_area_trigger", "targetname" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "bank_entry_detector", "targetname" );
    scripts\cp_mp\utility\game_utility::removematchingents_bykey( "shadow_blocker", "targetname" );
    scripts\cp_mp\utility\game_utility::removematchingents_bymodel( "door_prison_cell_metal_mp", 1 );
    scripts\cp_mp\utility\game_utility::removematchingents_bymodel( "veh8_mil_air_acharlie130", 1 );
    scripts\cp_mp\utility\game_utility::removematchingents_bymodel( "door_wooden_panel_mp_01", 1 );
    scripts\cp_mp\utility\game_utility::removematchingents_bymodel( "me_electrical_box_street_01", 1 );
    scripts\cp_mp\utility\game_utility::removematchingents_bycodeclassname( "light" );
    scripts\cp_mp\utility\game_utility::removematchingents_bycodeclassname( "trigger_use_touch" );

    if ( isdefined( level.localeid ) && level.localeid == "locale_6" )
        scripts\cp_mp\utility\game_utility::removematchingents_bykey( "locale_8", "script_noteworthy" );

    _id_A48BA5EE7FE7C64C = [];
    _id_A48BA5EE7FE7C64C[0] = ( -22592, 27367, 1000 );
    _id_A48BA5EE7FE7C64C[1] = ( -22592, 27303, -448 );
    _id_A48BA5EE7FE7C64C[2] = ( 7837, -9674, 1154 );
    _id_A48BA5EE7FE7C64C[3] = ( 7637, -9674, 1154 );
    _id_A48BA5EE7FE7C64C[4] = ( 7901, -9674, -270 );
    _id_A48BA5EE7FE7C64C[5] = ( 7701, -9674, -270 );
    _id_A48BA5EE7FE7C64C[6] = ( 10366, -11606, 66 );
    _id_A48BA5EE7FE7C64C[7] = ( 10366, -11813, 66 );
    _id_A48BA5EE7FE7C64C[6] = ( 10366, -11670, -270 );
    _id_A48BA5EE7FE7C64C[7] = ( 10366, -11877, -270 );
    _id_A48BA5EE7FE7C64C[8] = ( 7498, -11716, 66 );
    _id_A48BA5EE7FE7C64C[9] = ( 7498, -11652, -270 );
    _id_A48BA5EE7FE7C64C[10] = ( -1200, -18954, -242 );
    _id_A48BA5EE7FE7C64C[11] = ( -1215, -19016, 774 );
    ents = getentarray();

    foreach ( ent in ents )
    {
        if ( isdefined( ent.model ) && ent.model == "tag_origin" )
        {
            _id_E24C6C7277A83762 = 0;

            foreach ( _id_6CD1567FB4680666 in _id_A48BA5EE7FE7C64C )
            {
                if ( _id_E24C6C7277A83762 )
                    break;

                if ( distancesquared( ent.origin, _id_6CD1567FB4680666 ) < 144 )
                    _id_E24C6C7277A83762 = 1;
            }

            if ( _id_E24C6C7277A83762 )
                ent delete();
        }
    }
}

removepatchablecollision_delayed()
{
    wait 5;
    _id_5C2C9D034EBE9DCD = [];
    _id_5C2C9D034EBE9DCD[0] = "tactical_cover_col";
    _id_5C2C9D034EBE9DCD[1] = "tactical_ladder_col";
    _id_5C2C9D034EBE9DCD[2] = "clip8x8x256";
    _id_5C2C9D034EBE9DCD[3] = "player8x8x256";
    _id_5C2C9D034EBE9DCD[4] = "ladderMetal264";
    _id_5C2C9D034EBE9DCD[5] = "ladderWood192";
    _id_5C2C9D034EBE9DCD[6] = "ladderMetal192";
    _id_5C2C9D034EBE9DCD[7] = "mount128";
    _id_5C2C9D034EBE9DCD[8] = "mount64";
    _id_5C2C9D034EBE9DCD[9] = "mount32";
    _id_5C2C9D034EBE9DCD[10] = "mount256";
    _id_5C2C9D034EBE9DCD[11] = "ladderWood264";
    _id_5C2C9D034EBE9DCD[12] = "nosight256x256x8";
    _id_5C2C9D034EBE9DCD[13] = "nosight128x128x8";
    _id_5C2C9D034EBE9DCD[14] = "mountCorner128";
    _id_5C2C9D034EBE9DCD[15] = "mantle256";
    _id_5C2C9D034EBE9DCD[16] = "mantle128";
    _id_5C2C9D034EBE9DCD[17] = "mantle64";
    _id_5C2C9D034EBE9DCD[18] = "mantle32";
    _id_5C2C9D034EBE9DCD[19] = "stairsHalfFlight128";
    _id_5C2C9D034EBE9DCD[20] = "stairsFullFlight128";

    foreach ( name in _id_5C2C9D034EBE9DCD )
        scripts\cp_mp\utility\game_utility::removematchingents_bykey( name, "targetname" );
}

onjoinedteam( player )
{
    player _id_1D4B01C1EC829364::_id_6ED651811C936A22();
}

setupwaypointicons()
{
    while ( !isdefined( level._id_0B23156D776B1D85 ) || !isdefined( level._id_0B23156D776B1D85._id_038F2A11237246AC ) )
        waitframe();

    foreach ( _id_DFBD7318EF3CC9BD, _id_D442547D75DFFD09 in level._id_0B23156D776B1D85._id_038F2A11237246AC )
    {
        level.waypointcolors[_id_DFBD7318EF3CC9BD + "_incoming"] = "neutral";
        level.waypointbgtype[_id_DFBD7318EF3CC9BD + "_incoming"] = 1;
        level.waypointstring[_id_DFBD7318EF3CC9BD + "_incoming"] = "";
        level.waypointshader[_id_DFBD7318EF3CC9BD + "_incoming"] = scripts\engine\utility::ter_op( isdefined( _id_D442547D75DFFD09.hudicon ), _id_D442547D75DFFD09.hudicon, "" );
        level.waypointpulses[_id_DFBD7318EF3CC9BD + "_incoming"] = 0;
        level.waypointcolors[_id_DFBD7318EF3CC9BD] = "neutral";
        level.waypointbgtype[_id_DFBD7318EF3CC9BD] = 1;
        level.waypointstring[_id_DFBD7318EF3CC9BD] = "MP_INGAME_ONLY/OBJ_CAPTURE_CAPS";
        level.waypointshader[_id_DFBD7318EF3CC9BD] = scripts\engine\utility::ter_op( isdefined( _id_D442547D75DFFD09.hudicon ), _id_D442547D75DFFD09.hudicon, "" );
    }
}

setupobjectives()
{
    level.startingfobnames_neutral = [ "gw_fob_01", "gw_fob_02", "gw_fob_03", "gw_fob_04", "gw_fob_05", "gw_fob_06", "gw_fob_07", "gw_fob_08", "gw_fob_09" ];
    level.gw_objstruct = spawnstruct();
    level.gw_objstruct.startingfobs_neutral = [];

    if ( !isdefined( game["gwai_possible_objective_keys"] ) )
        game["gwai_possible_objective_keys"] = [];

    _id_A9B909BAC20BA503 = 0;
    [level.gw_objstruct.startingfobs_neutral, _id_A9B909BAC20BA503] = _id_760BADBC47A3E856( level.startingfobnames_neutral, _id_A9B909BAC20BA503 );

    if ( !isdefined( game["current_objective_key"] ) || level._id_47E0745BAFF5B43F > 0 && game["roundsPlayed"] % level._id_47E0745BAFF5B43F == 0 )
    {
        _id_DD7BFEA4EB1DA762 = [];

        foreach ( key, used in game["gwai_possible_objective_keys"] )
        {
            _id_96E5DC4303192720 = getdvar( "dvar_D781FE69411C87BC", "" );

            if ( _id_96E5DC4303192720 != "" )
            {
                _id_96E5DC4303192720 = strtok( _id_96E5DC4303192720, " " );

                if ( !scripts\engine\utility::array_contains( _id_96E5DC4303192720, key ) )
                    continue;
            }

            if ( !used )
                _id_DD7BFEA4EB1DA762[_id_DD7BFEA4EB1DA762.size] = key;
        }

        if ( _id_DD7BFEA4EB1DA762.size == 0 )
        {
            foreach ( key, _id_F90358454413407F in game["gwai_possible_objective_keys"] )
                game["gwai_possible_objective_keys"][key] = 0;

            foreach ( key, used in game["gwai_possible_objective_keys"] )
            {
                _id_96E5DC4303192720 = getdvar( "dvar_D781FE69411C87BC", "" );

                if ( _id_96E5DC4303192720 != "" )
                {
                    _id_96E5DC4303192720 = strtok( _id_96E5DC4303192720, " " );

                    if ( !scripts\engine\utility::array_contains( _id_96E5DC4303192720, key ) )
                        continue;
                }

                if ( !used )
                    _id_DD7BFEA4EB1DA762[_id_DD7BFEA4EB1DA762.size] = key;
            }
        }

        _id_50FB98C8E0D441F8 = _id_DD7BFEA4EB1DA762[randomint( _id_DD7BFEA4EB1DA762.size )];
        game["current_objective_key"] = _id_50FB98C8E0D441F8;
        game["gwai_possible_objective_keys"][_id_50FB98C8E0D441F8] = 1;
    }
}

_id_760BADBC47A3E856( _id_A682E84261A6B971, currentindex )
{
    targetarray = [];

    if ( !isdefined( _id_A682E84261A6B971 ) || _id_A682E84261A6B971.size == 0 )
        return [ targetarray, currentindex ];

    _id_F6DDBB71B889A0BE = [ "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i" ];
    _id_A9B909BAC20BA503 = currentindex;

    foreach ( _id_D83E5FA8F6CE891F in _id_A682E84261A6B971 )
    {
        trigger = scripts\cp_mp\utility\game_utility::getlocaleent( _id_D83E5FA8F6CE891F );

        if ( isdefined( trigger ) )
        {
            fob = spawnstruct();
            fob.name = _id_D83E5FA8F6CE891F;
            fob.trigger = trigger;
            fob.trigger.objkey = _id_F6DDBB71B889A0BE[_id_A9B909BAC20BA503];
            _id_A9B909BAC20BA503++;
            targetarray[targetarray.size] = fob;

            if ( !isdefined( game["gwai_possible_objective_keys"][fob.trigger.objkey] ) )
                game["gwai_possible_objective_keys"][fob.trigger.objkey] = 0;
        }
    }

    return [ targetarray, _id_A9B909BAC20BA503 ];
}

runobjectives()
{
    level.allfobs = [];

    foreach ( fob in level.gw_objstruct.startingfobs_neutral )
    {
        if ( fob.trigger.objkey == game["current_objective_key"] )
        {
            fob.trigger.objkey = "_a";
            _id_DDCA7869B65236B6 = _id_2D95972FCED27791( fob.trigger, "neutral" );
            level.allfobs[level.allfobs.size] = fob;
        }
    }

    _id_93C3E68D9C262062 = getentarray( "gw_ai_base", "targetname" );

    foreach ( fob in level.allfobs )
    {
        fob.trigger.gameobject.onuse = ::zone_onuse;
        fob.trigger.gameobject.onbeginuse = _id_1B18A05A284D55C2::zone_onusebegin;
        fob.trigger.gameobject.onuseupdate = _id_1B18A05A284D55C2::zone_onuseupdate;
        fob.trigger.gameobject.onenduse = _id_1B18A05A284D55C2::zone_onuseend;
        fob.trigger.gameobject.onunoccupied = _id_1B18A05A284D55C2::zone_onunoccupied;
        fob.trigger.gameobject.oncontested = _id_1B18A05A284D55C2::zone_oncontested;
        fob.trigger.gameobject.onuncontested = _id_1B18A05A284D55C2::zone_onuncontested;
        fob.trigger.gameobject.stompprogressreward = _id_1B18A05A284D55C2::zone_stompprogressreward;
        fob.trigger.gameobject.onpinnedstate = _id_1B18A05A284D55C2::zone_onpinnedstate;
        fob.trigger.gameobject.onunpinnedstate = _id_1B18A05A284D55C2::zone_onunpinnedstate;

        if ( istrue( level._id_DD7AF80C3EB2C1E0 ) )
            fob._id_5261F4479B04F834 = _id_6663215F917210AE::_id_5261F4479B04F834;

        foreach ( _id_3BF790F79CB25065 in _id_93C3E68D9C262062 )
        {
            if ( fob.trigger.targetname == _id_3BF790F79CB25065.script_label )
            {
                fob.trigger.gameobject._id_3BF790F79CB25065 = _id_3BF790F79CB25065;
                break;
            }
        }

        level.objectives[fob.trigger.gameobject.objectivekey] = fob.trigger.gameobject;
    }

    setomnvar( "ui_num_dom_flags", level.allfobs.size );

    if ( level._id_B72C7E9840EAFEA2 == 0 )
        level thread objective_manageobjectivesintrovisibility();

    level thread _id_F73CAB6EC2FE1638();
    level thread allowobjectiveuseaftermatchstart();
    level._id_AA5583D4CBBFD72E = 1;
}

_id_F73CAB6EC2FE1638()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_done" );

    if ( level._id_B72C7E9840EAFEA2 > 0 )
        wait( level._id_B72C7E9840EAFEA2 );

    foreach ( fob in level.allfobs )
        fob.trigger.gameobject scripts\mp\gameobjects::setvisibleteam( "any" );

    foreach ( _id_F90358454413407F in level.teamnamelist )
        scripts\mp\utility\dialog::statusdialog( "hp_new_location", _id_F90358454413407F );
}

allowobjectiveuseaftermatchstart()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_done" );

    if ( level._id_BA68025AC7877C84 > 0 )
    {
        foreach ( fob in level.allfobs )
        {

        }

        _id_8C0F071F480A9D9A = int( gettime() + level._id_BA68025AC7877C84 * 1000 );
        setomnvar( "ui_hardpoint_timer", _id_8C0F071F480A9D9A );
        setomnvar( "ui_hq_status", 1 );
        setomnvar( "ui_hq_ownerteam", -1 );
        wait( level._id_BA68025AC7877C84 );
    }

    setomnvar( "ui_hardpoint_timer", 0 );
    setomnvar( "ui_hq_status", -1 );

    foreach ( fob in level.allfobs )
    {
        fob.trigger.gameobject scripts\mp\gameobjects::allowuse( "enemy" );
        fob.trigger.gameobject scripts\mp\gameobjects::enableobject();
        fob.trigger.gameobject scripts\mp\gameobjects::setusetime( level.zonecapturetime );
    }

    foreach ( _id_F90358454413407F in level.teamnamelist )
        scripts\mp\utility\dialog::statusdialog( "hp_active", _id_F90358454413407F );
}

objective_manageobjectivesintrovisibility()
{
    wait 1;

    foreach ( fob in level.allfobs )
        scripts\mp\objidpoolmanager::objective_playermask_hidefromall( fob.trigger.gameobject.objidnum );

    while ( !scripts\mp\flags::gameflag( "prematch_done" ) )
        waitframe();

    foreach ( fob in level.allfobs )
        scripts\mp\objidpoolmanager::objective_playermask_showtoall( fob.trigger.gameobject.objidnum );
}

_id_2D95972FCED27791( objective, _id_35B9448411944BDC )
{
    level endon( "game_ended" );
    objective.script_label = objective.objkey;
    domflag = _id_1B18A05A284D55C2::setupobjective( objective );
    domflag.origin = objective.origin;
    domflag scripts\mp\gameobjects::allowuse( "none" );
    domflag.didstatusnotify = 0;
    domflag scripts\mp\gameobjects::setobjectivestatusicons( level.icontarget );
    return domflag;
}

dropcrate( _id_D8061F26B5ECA018, _id_76A22C18960F72AF, team )
{
    crate = scripts\cp_mp\killstreaks\airdrop::droparmcratefromscriptedheli( team, _id_D8061F26B5ECA018, _id_76A22C18960F72AF.origin, ( 0, randomint( 360 ), 0 ), undefined );
    return crate;
}

docratedropsmoke( crate, _id_76A22C18960F72AF, duration )
{
    _id_E0D03A39E88DFF15 = _id_76A22C18960F72AF.origin + ( 0, 0, 2000 );
    spawnpos = scripts\common\utility::groundpos( _id_E0D03A39E88DFF15, ( 0, 0, 1 ) );
    _id_76A22C18960F72AF.vfxent = spawn( "script_model", spawnpos );
    _id_76A22C18960F72AF.vfxent setmodel( "tag_origin" );
    _id_76A22C18960F72AF.vfxent.angles = ( 0, 0, 0 );
    _id_76A22C18960F72AF.vfxent playloopsound( "smoke_carepackage_smoke_lp" );
    wait 1;
    playfxontag( scripts\engine\utility::getfx( "vfx_smk_signal_gr" ), _id_76A22C18960F72AF.vfxent, "tag_origin" );

    if ( isdefined( crate ) )
        crate scripts\engine\utility::waittill_any_timeout_1( duration, "crate_dropped" );
    else
        wait( duration );

    stopfxontag( scripts\engine\utility::getfx( "vfx_smk_signal_gr" ), _id_76A22C18960F72AF.vfxent, "tag_origin" );
    _id_76A22C18960F72AF.vfxent delete();
}

registervaliddroplocations()
{
    scripts\cp_mp\killstreaks\airdrop::initplundercratedata();
    level.validdroplocationstruct = spawnstruct();
    level.validdroplocationstruct.clusters = scripts\engine\utility::getstructarray( "dropBagCluterNode", "script_noteworthy" );
    _id_1BD7657BD69C8A8C = scripts\engine\utility::getstructarray( "dropBagLocation", "script_noteworthy" );

    foreach ( location in _id_1BD7657BD69C8A8C )
    {
        location.inuse = 0;

        foreach ( _id_3402D60C1EF6B931 in level.validdroplocationstruct.clusters )
        {
            if ( location.target == _id_3402D60C1EF6B931.targetname )
            {
                if ( !isdefined( _id_3402D60C1EF6B931.droplocations ) )
                    _id_3402D60C1EF6B931.droplocations = [];

                _id_3402D60C1EF6B931.droplocations[_id_3402D60C1EF6B931.droplocations.size] = location;
                continue;
            }
        }
    }

    level.nextkillstreakgoal = 100;

    if ( 0 )
        thread debug_testcratedroplocationpicker();
}

debug_testcratedroplocationpicker()
{
    for (;;)
    {
        choosecratelocation();
        wait 1;
    }
}

checkkillstreakcratedrop( team )
{
    if ( game["teamScores"][team] >= level.nextkillstreakgoal )
    {
        level.nextkillstreakgoal = level.nextkillstreakgoal + 100;
        dropkillstreakcrates( 2 );
    }
}

dropkillstreakcrates( _id_FD2FEE325481DC7F )
{
    _id_C7709EA550BBB458 = undefined;

    foreach ( player in level.players )
    {
        if ( isdefined( player ) )
        {
            _id_C7709EA550BBB458 = player;
            break;
        }
    }

    for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_FD2FEE325481DC7F; _id_AC0E594AC96AA3A8++ )
    {
        location = choosecratelocation();
        thread runkillstreakreward( location, _id_C7709EA550BBB458, getkillstreak( 1 ) );
        wait 5;
    }
}

choosecratelocation()
{
    _id_695A8B6F4AAEEEE6 = randomfloatrange( 0, 1.0 );
    _id_1B090DB7AD64072D = vectorlerp( level.c130pathstruct_a.startpt, level.c130pathstruct_a.endpt, _id_695A8B6F4AAEEEE6 );
    _id_1B090AB7AD640094 = vectorlerp( level.c130pathstruct_b.endpt, level.c130pathstruct_b.startpt, _id_695A8B6F4AAEEEE6 );
    _id_92459AE9B006B9F7 = vectorlerp( _id_1B090DB7AD64072D, _id_1B090AB7AD640094, 0.5 );
    trace = scripts\engine\trace::ray_trace( _id_92459AE9B006B9F7, _id_92459AE9B006B9F7 - ( 0, 0, 100000 ) );
    _id_92459AE9B006B9F7 = trace["position"];
    _id_794937A10118F0D9 = findclosestdroplocation( _id_92459AE9B006B9F7 );

    if ( 0 )
    {
        thread scripts\mp\utility\debug::drawsphere( _id_1B090DB7AD64072D, 1000, 100, ( 0, 0, 1 ) );
        thread scripts\mp\utility\debug::drawsphere( _id_1B090AB7AD640094, 1000, 100, ( 0, 0, 1 ) );
        thread scripts\mp\utility\debug::drawsphere( _id_92459AE9B006B9F7, 1000, 100, ( 1, 0, 0 ) );
        thread scripts\mp\utility\debug::drawsphere( _id_794937A10118F0D9.origin, 1000, 100, ( 0, 1, 0 ) );
        thread scripts\mp\utility\debug::drawline( _id_92459AE9B006B9F7, _id_794937A10118F0D9.origin, 3, ( 0, 1, 0 ) );
    }

    return _id_794937A10118F0D9;
}

findclosestdroplocation( origin )
{
    startlocation = spawnstruct();
    startlocation.origin = origin;
    _id_206C7349DD628BC8 = startlocation scripts\engine\utility::array_sort_with_func( level.validdroplocationstruct.clusters, ::sortlocationsbydistance );

    foreach ( _id_3402D60C1EF6B931 in _id_206C7349DD628BC8 )
    {
        _id_D6D0D0AB47B5B334 = scripts\engine\utility::array_randomize( _id_3402D60C1EF6B931.droplocations );

        if ( 0 )
            return _id_D6D0D0AB47B5B334[0];
        else
        {
            foreach ( location in _id_D6D0D0AB47B5B334 )
            {
                if ( !location.inuse )
                {
                    location.inuse = 1;
                    return location;
                }
            }
        }
    }

    return undefined;
}

runkillstreakreward( location, _id_58E8D1412BC688CD, streakname )
{
    level endon( "game_ended" );
    crate = undefined;
    object = scripts\mp\gameobjects::createobjidobject( location.origin, "neutral", ( 0, 0, 72 ), undefined, "any" );
    object.origin = location.origin;
    object.angles = location.angles;
    thread docratedropsmoke( undefined, location, 16 );
    object.iconname = "_incoming";
    object.lockupdatingicons = 0;
    object scripts\mp\gameobjects::setobjectivestatusicons( streakname );
    object.lockupdatingicons = 1;
    wait 4;
    crate = scripts\cp_mp\killstreaks\airdrop::droparmcratefromscriptedheli( _id_58E8D1412BC688CD.team, streakname, location.origin, ( 0, randomint( 360 ), 0 ), undefined );
    crate.skipminimapicon = 1;
    crate.nevertimeout = 0;
    crate.waitforobjectiveactivate = 1;
    crate.killminimapicon = 0;
    crate.disallowheadiconid = 1;
    crate.isarmcrate = 1;
    crate waittill( "crate_dropped" );
    object.useobj = crate;
    object.origin = crate.origin;
    _id_DE9E30874C191943 = 0;
    interval = 0.1;
    wait 1;
    crate notify( "objective_activate" );
    scripts\mp\objidpoolmanager::update_objective_onentity( object.objidnum, crate );
    scripts\mp\objidpoolmanager::update_objective_setzoffset( object.objidnum, 72 );
    object.iconname = "";
    object.lockupdatingicons = 0;
    object scripts\mp\gameobjects::setobjectivestatusicons( streakname );
    object.lockupdatingicons = 1;
    objective_setlabel( object.objidnum, "" );
    crate waittill( "death" );
    object scripts\mp\gameobjects::setvisibleteam( "none" );
    object scripts\mp\gameobjects::releaseid();
    object.visibleteam = "none";
}

getkillstreak( tier )
{
    if ( !isdefined( level.killstreaktierlist ) )
        processkillstreaksintotiers();

    level.killstreaktierlist[tier] = scripts\engine\utility::array_randomize( level.killstreaktierlist[tier] );
    return level.killstreaktierlist[tier][0];
}

processkillstreaksintotiers()
{
    level.killstreaktierlist = [];
    level.killstreaktierlist[3] = [ "cruise_predator", "scrambler_drone_guard", "uav" ];
    level.killstreaktierlist[2] = [ "precision_airstrike", "multi_airstrike", "bradley" ];
    level.killstreaktierlist[1] = [ "toma_strike", "uav", "pac_sentry", "white_phosphorus" ];
    level.killstreaktierlist[0] = [ "uav" ];
}

initspawns( _id_4C3936C2C179FAB3 )
{
    level.spawnmins = ( 0, 0, 0 );
    level.spawnmaxs = ( 0, 0, 0 );

    if ( !level.multiteambased )
    {
        _id_48501209A3E177A7 = "mp_gw_spawn_allies_start";
        _id_AE7D0107AD485428 = "mp_gw_spawn_axis_start";
        scripts\mp\spawnlogic::addspawnpoints( game["attackers"], _id_48501209A3E177A7 );
        scripts\mp\spawnlogic::addspawnpoints( game["defenders"], _id_AE7D0107AD485428 );
        attackers = scripts\mp\spawnlogic::getspawnpointarray( _id_48501209A3E177A7 );
        _id_2FD93EA689E77097 = scripts\mp\spawnlogic::getspawnpointarray( _id_AE7D0107AD485428 );
        scripts\mp\spawnlogic::registerspawnset( "start_attackers", attackers );
        scripts\mp\spawnlogic::registerspawnset( "start_defenders", _id_2FD93EA689E77097 );
    }
    else
    {
        level._id_C232143DAA149594 = [];

        switch ( level.mapname )
        {
            case "mp_sira_gw":
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -37117, -14519, 260 );
                _id_041EE18556B2486F.angles = ( 0, 302, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -29272, -15643, 350 );
                _id_041EE18556B2486F.angles = ( 0, 236, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -27343, -24666, 260 );
                _id_041EE18556B2486F.angles = ( 0, 154, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -35216, -29197, 320 );
                _id_041EE18556B2486F.angles = ( 0, 96, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -42555, -20407, 260 );
                _id_041EE18556B2486F.angles = ( 0, 335, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                break;
            case "mp_wartorn_gw":
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -21036, 39417, -30 );
                _id_041EE18556B2486F.angles = ( 0, 333, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -12069, 51876, 194 );
                _id_041EE18556B2486F.angles = ( 0, 271, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( 1983, 43672, 479 );
                _id_041EE18556B2486F.angles = ( 0, 178, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -1061, 29444, 406 );
                _id_041EE18556B2486F.angles = ( 0, 124, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -15203, 31037, 266 );
                _id_041EE18556B2486F.angles = ( 0, 67, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                break;
            case "mp_fishtown_gw":
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -16014, -51700, 322 );
                _id_041EE18556B2486F.angles = ( 0, 30, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -12154, -40440, 586 );
                _id_041EE18556B2486F.angles = ( 0, 354, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -3034, -33855, 997 );
                _id_041EE18556B2486F.angles = ( 0, 274, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( 12220, -36424, 677 );
                _id_041EE18556B2486F.angles = ( 0, 202, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( 1979, -51789, 252 );
                _id_041EE18556B2486F.angles = ( 0, 109, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                break;
            default:
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -37117, -14519, 260 );
                _id_041EE18556B2486F.angles = ( 0, 302, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -29272, -15643, 350 );
                _id_041EE18556B2486F.angles = ( 0, 236, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -27343, -24666, 260 );
                _id_041EE18556B2486F.angles = ( 0, 154, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -35216, -29197, 320 );
                _id_041EE18556B2486F.angles = ( 0, 96, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                _id_041EE18556B2486F = spawnstruct();
                _id_041EE18556B2486F.team = undefined;
                _id_041EE18556B2486F.origin = ( -42555, -20407, 260 );
                _id_041EE18556B2486F.angles = ( 0, 335, 0 );
                level._id_C232143DAA149594[level._id_C232143DAA149594.size] = _id_041EE18556B2486F;
                break;
        }

        level._id_C232143DAA149594 = scripts\engine\utility::array_randomize( level._id_C232143DAA149594 );
    }

    level.mapcenter = scripts\mp\spawnlogic::findboxcenter( level.spawnmins, level.spawnmaxs );
    setmapcenter( level.mapcenter );
}

getspawnpoint()
{
    scripts\mp\spawnlogic::setactivespawnlogic( "StartSpawn", "Crit_Default" );
    spawnteam = self.pers["team"];
    spawnpoint = undefined;

    if ( !level.multiteambased )
    {
        if ( spawnteam == game["attackers"] )
        {
            scripts\mp\spawnlogic::activatespawnset( "start_attackers", 1 );
            spawnpoint = scripts\mp\spawnlogic::getspawnpoint( self, spawnteam, undefined, "start_attackers" );
        }
        else
        {
            scripts\mp\spawnlogic::activatespawnset( "start_defenders", 1 );
            spawnpoint = scripts\mp\spawnlogic::getspawnpoint( self, spawnteam, undefined, "start_defenders" );
        }
    }
    else
    {
        aliveplayers = scripts\mp\utility\teams::getteamdata( spawnteam, "alivePlayers" );

        if ( aliveplayers.size > 0 )
            spawnpoint = scripts\mp\spawnscoring::findteammatebuddyspawn( aliveplayers[0] );
        else
        {
            foreach ( _id_041EE18556B2486F in level._id_C232143DAA149594 )
            {
                if ( !isdefined( _id_041EE18556B2486F.team ) || _id_041EE18556B2486F.team == spawnteam )
                {
                    _id_041EE18556B2486F.team = spawnteam;
                    spawnpoint = spawnstruct();
                    spawnpoint.origin = _id_041EE18556B2486F.origin;
                    spawnpoint.angles = _id_041EE18556B2486F.angles;
                    spawnpoint.index = -1;
                    break;
                }
                else
                    continue;
            }
        }
    }

    return spawnpoint;
}

onplayerconnect()
{
    if ( isdefined( level.rallypointvehicles ) )
        thread scripts\mp\rally_point::rallypoint_showtoplayer( self );

    thread _id_724736FCF0FB6604::br_ammo_player_init();
    scripts\mp\class::_id_A16868D4DCD81A4B();

    if ( !isdefined( self.pers["gamemodeLoadout"] ) )
        self.pers["gamemodeLoadout"] = level._id_3800B8F9E799AE2C;
}

onplayerdisconnect( player )
{

}

modeonspawnplayer( _id_9156B53BCF7CE573 )
{
    self notify( "br_spawned" );
    scripts\mp\hud_message::_id_F004EF4606B9EFDC( "dom_cap_defend" );
    _id_03F1B6713CA4C9C7::_id_6DA8B65579348D0B();
    _id_76CC264B397DB9CB::updatesquadomnvars( self.team, self._id_0FF97225579DE16A );

    if ( isdefined( self.pers["gamemodeLoadout"] ) && isdefined( self.pers["gamemodeLoadout"]["armorPlates"] ) )
    {
        self._id_D0205933322679A9 = self.pers["gamemodeLoadout"]["armorPlates"];
        self.pers["gamemodeLoadout"]["armorPlates"] = 0;
    }
}

onplayerspawned()
{
    _id_7E52B56769FA7774::resetplayerinventory( 1, 1 );

    if ( level.multiteambased )
        scripts\mp\outofbounds::enableoobimmunity( self );
}

onplayerkilled( einflictor, attacker, idamage, smeansofdeath, objweapon, vdir, shitloc, psoffsettime, deathanimduration, _id_61B5D0250B328F00 )
{
    _id_76CC264B397DB9CB::updatesquadomnvars( self.team, self._id_0FF97225579DE16A );
    _id_6663215F917210AE::awardgenericmedals( einflictor, attacker, idamage, smeansofdeath, objweapon, vdir, shitloc, psoffsettime, deathanimduration, _id_61B5D0250B328F00 );

    if ( level.dropbrloot )
        _id_7E52B56769FA7774::droponplayerdeath( attacker );
}

onnormaldeath( victim, attacker, lifeid, meansofdeath, objweapon, iskillstreakweapon )
{
    _id_0FD32F08E72B657F::oncommonnormaldeath( victim, attacker, lifeid, meansofdeath, objweapon, iskillstreakweapon );
}

_id_8731C366897E87D8()
{
    level._id_3800B8F9E799AE2C["loadoutArchetype"] = "archetype_assault";
    level._id_3800B8F9E799AE2C["loadoutPrimary"] = "iw9_pi_golf17";
    level._id_3800B8F9E799AE2C["loadoutPrimaryAttachment"] = "none";
    level._id_3800B8F9E799AE2C["loadoutPrimaryAttachment2"] = "none";
    level._id_3800B8F9E799AE2C["loadoutPrimaryCamo"] = "none";
    level._id_3800B8F9E799AE2C["loadoutPrimaryReticle"] = "none";
    level._id_3800B8F9E799AE2C["loadoutPrimaryVariantID"] = 0;
    level._id_3800B8F9E799AE2C["loadoutSecondary"] = "none";
    level._id_3800B8F9E799AE2C["loadoutSecondaryAttachment"] = "none";
    level._id_3800B8F9E799AE2C["loadoutSecondaryAttachment2"] = "none";
    level._id_3800B8F9E799AE2C["loadoutSecondaryCamo"] = "none";
    level._id_3800B8F9E799AE2C["loadoutSecondaryReticle"] = "none";
    level._id_3800B8F9E799AE2C["loadoutSecondaryVariantID"] = 0;
    level._id_3800B8F9E799AE2C["loadoutEquipmentPrimary"] = "none";
    level._id_3800B8F9E799AE2C["loadoutEquipmentSecondary"] = "none";
    level._id_3800B8F9E799AE2C["loadoutFieldUpgrade1"] = "none";
    level._id_3800B8F9E799AE2C["loadoutFieldUpgrade2"] = "none";
    level._id_3800B8F9E799AE2C["loadoutStreakType"] = "assault";
    level._id_3800B8F9E799AE2C["loadoutKillstreak1"] = "none";
    level._id_3800B8F9E799AE2C["loadoutKillstreak2"] = "none";
    level._id_3800B8F9E799AE2C["loadoutKillstreak3"] = "none";
    level._id_3800B8F9E799AE2C["loadoutPerks"] = [];
    level._id_3800B8F9E799AE2C["loadoutGesture"] = "playerData";
}

arm_initoutofbounds()
{
    level.outofboundstriggers = [];
    _id_CCFDB06748D7F326 = getentarray( "OutOfBounds", "targetname" );

    foreach ( trigger in _id_CCFDB06748D7F326 )
    {
        if ( isdefined( trigger.script_team ) )
        {
            trigger delete();
            continue;
        }

        if ( isdefined( scripts\cp_mp\utility\game_utility::getlocaleid() ) && isdefined( trigger.script_noteworthy ) && trigger.script_noteworthy == level.localeid && scripts\mp\utility\game_utility_mp::modeusesgroundwarteamoobtriggers( trigger ) )
        {
            level.outofboundstriggers[level.outofboundstriggers.size] = trigger;
            continue;
        }

        trigger delete();
    }
}

sortlocationsbydistance( _id_0FCF7E6E6D8C4861, _id_0FCF7B6E6D8C41C8 )
{
    return distancesquared( _id_0FCF7E6E6D8C4861.origin, self.origin ) < distancesquared( _id_0FCF7B6E6D8C41C8.origin, self.origin );
}

getmissedinfilcamerapositions( team )
{
    _id_B379BC48DC371726 = spawnstruct();
    _id_B379BC48DC371726.startorigin = undefined;
    _id_B379BC48DC371726.endpos = undefined;

    if ( level.mapname == "mp_locale_test" )
    {
        switch ( level.localeid )
        {
            case "locale_8":
            case "locale_6":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 2094, -1804, 2763 );
                    _id_B379BC48DC371726.startangles = ( 54, 40, 0 );
                    _id_B379BC48DC371726.endorigin = ( 2094, -1804, 2763 );
                    _id_B379BC48DC371726.endangles = ( 54, 40, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 2315, 1956, 2763 );
                    _id_B379BC48DC371726.startangles = ( 54, 296, 0 );
                    _id_B379BC48DC371726.endorigin = ( 2094, -1804, 2763 );
                    _id_B379BC48DC371726.endangles = ( 54, 40, 0 );
                }

                break;
            default:
                _id_B379BC48DC371726.startorigin = ( 0, 0, 0 );
                _id_B379BC48DC371726.startangles = ( 0, 0, 0 );
                _id_B379BC48DC371726.endorigin = ( 0, 0, 0 );
                _id_B379BC48DC371726.endangles = ( 0, 0, 0 );
                break;
        }
    }
    else
    {
        switch ( level.localeid )
        {
            case "locale_3":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 38864, -14018, -396 );
                    _id_B379BC48DC371726.startangles = ( 3, 250, 0 );
                    _id_B379BC48DC371726.endorigin = ( 38473, -14077, 401 );
                    _id_B379BC48DC371726.endangles = ( 15, 252, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 30526, -38262, -483 );
                    _id_B379BC48DC371726.startangles = ( 0, 72, 0 );
                    _id_B379BC48DC371726.endorigin = ( 30024, -38403, 560 );
                    _id_B379BC48DC371726.endangles = ( 19, 67, 0 );
                }

                break;
            case "locale_6":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 16977, -23256, 169 );
                    _id_B379BC48DC371726.startangles = ( 9, 69, 0 );
                    _id_B379BC48DC371726.endorigin = ( 16899, -23467, 683 );
                    _id_B379BC48DC371726.endangles = ( 15, 68, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 18607, 1423, -355 );
                    _id_B379BC48DC371726.startangles = ( 8, 289, 0 );
                    _id_B379BC48DC371726.endorigin = ( 18100, 1083, 503 );
                    _id_B379BC48DC371726.endangles = ( 22, 302, 0 );
                }

                break;
            case "locale_8":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 18672, -26836, -129 );
                    _id_B379BC48DC371726.startangles = ( 359, 76, 0 );
                    _id_B379BC48DC371726.endorigin = ( 18518, -26909, 314 );
                    _id_B379BC48DC371726.endangles = ( 14, 69, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 18607, 1423, -355 );
                    _id_B379BC48DC371726.startangles = ( 8, 289, 0 );
                    _id_B379BC48DC371726.endorigin = ( 18100, 1083, 503 );
                    _id_B379BC48DC371726.endangles = ( 22, 302, 0 );
                }

                break;
            case "locale_16":
            case "locale_5":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 24893, 28349, 1408 );
                    _id_B379BC48DC371726.startangles = ( 15, 54, 0 );
                    _id_B379BC48DC371726.endorigin = ( 25613, 29274, 1255 );
                    _id_B379BC48DC371726.endangles = ( 19, 53, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 39490, 48919, 2302 );
                    _id_B379BC48DC371726.startangles = ( 17, 235, 0 );
                    _id_B379BC48DC371726.endorigin = ( 39254, 48584, 1542 );
                    _id_B379BC48DC371726.endangles = ( 18, 245, 0 );
                }

                break;
            case "locale_9":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 48331, -24822, 514 );
                    _id_B379BC48DC371726.startangles = ( 12, 77, 0 );
                    _id_B379BC48DC371726.endorigin = ( 48424, -24421, -240 );
                    _id_B379BC48DC371726.endangles = ( 2, 77, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( 46188, 2520, 49 );
                    _id_B379BC48DC371726.startangles = ( 7, 295, 0 );
                    _id_B379BC48DC371726.endorigin = ( 46571, 2664, 526 );
                    _id_B379BC48DC371726.endangles = ( 16, 276, 0 );
                }

                break;
            case "locale_10":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( -11083, 22197, 381 );
                    _id_B379BC48DC371726.startangles = ( 10, 181, 0 );
                    _id_B379BC48DC371726.endorigin = ( -12112, 23761, 381 );
                    _id_B379BC48DC371726.endangles = ( 11, 201, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( -31134, 11924, -116 );
                    _id_B379BC48DC371726.startangles = ( 0, 36, 0 );
                    _id_B379BC48DC371726.endorigin = ( -31134, 11924, 434 );
                    _id_B379BC48DC371726.endangles = ( 11, 36, 0 );
                }

                break;
            case "locale_17":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( 9215, 984, 325 );
                    _id_B379BC48DC371726.startangles = ( 357, 186, 0 );
                    _id_B379BC48DC371726.endorigin = ( 9107, 628, 1144 );
                    _id_B379BC48DC371726.endangles = ( 19, 182, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( -5351, 641, 408 );
                    _id_B379BC48DC371726.startangles = ( 2, 352, 0 );
                    _id_B379BC48DC371726.endorigin = ( -5282, 996, 1103 );
                    _id_B379BC48DC371726.endangles = ( 11, 347, 0 );
                }

                break;
            case "locale_18":
                if ( team == "axis" )
                {
                    _id_B379BC48DC371726.startorigin = ( -22847, -28632, 34 );
                    _id_B379BC48DC371726.startangles = ( 12, 42, 0 );
                    _id_B379BC48DC371726.endorigin = ( -22694, -28429, 356 );
                    _id_B379BC48DC371726.endangles = ( 12, 40, 0 );
                }
                else
                {
                    _id_B379BC48DC371726.startorigin = ( -8084, -20649, 72 );
                    _id_B379BC48DC371726.startangles = ( 10, 185, 0 );
                    _id_B379BC48DC371726.endorigin = ( -9092, -20635, 224 );
                    _id_B379BC48DC371726.endangles = ( 12, 184, 0 );
                }

                break;
            default:
                _id_B379BC48DC371726.startorigin = ( 0, 0, 0 );
                _id_B379BC48DC371726.startangles = ( 0, 0, 0 );
                _id_B379BC48DC371726.endorigin = ( 0, 0, 0 );
                _id_B379BC48DC371726.endangles = ( 0, 0, 0 );
                break;
        }
    }

    return _id_B379BC48DC371726;
}

_id_658C8F668D2CD83C()
{
    wait 5;
    _id_7AB5B649FA408138::_id_0F1AED36AB4598EA( "mp_gamemode_gw" );
}

_id_8F1B9042D7FDFCDA()
{
    if ( !isdefined( level.difficultytype ) )
        level _id_48814951E916AF89::_id_C8393014DD7F8AB6();

    level thread _id_268C4DA1EF6A20A8::init();
    _id_48814951E916AF89::init();
    _id_48814951E916AF89::_id_BA4022744DCE59F6( "everybody", 100 );
    level thread _id_640CF1641C03E2A0::_id_CA39A413ACE3C168();
    level thread _id_2BC0B0102F9B7751::_id_D0FFCD08E0870CF2();

    while ( !istrue( level._id_AA5583D4CBBFD72E ) )
        waitframe();

    level thread _id_848D0782943B416D();
    _id_48814951E916AF89::_id_2FC80954FA70D153();

    foreach ( key, obj in level.objectives )
    {
        groupname = _id_48814951E916AF89::_id_78759441C259F58A( obj.trigger.origin );
        _id_9815FCE1944A6AE0 = _id_120270BD0A747A35::_id_2E33F8E46F95167C( obj.trigger.origin, 1024, 1 );
        _id_F1548C57038E1B7A = scripts\engine\utility::array_combine( _id_9815FCE1944A6AE0._id_E67F0B2EA7AE69ED, _id_9815FCE1944A6AE0._id_8A055A821DDA7DA0, _id_9815FCE1944A6AE0._id_3288C473E8336AB4 );
        numagents = getdvarint( "dvar_347125FD6D3E5B8B", 15 );

        if ( numagents > 0 )
        {
            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < numagents; _id_AC0E594AC96AA3A8++ )
            {
                aitype = _id_48814951E916AF89::_id_D5BC07EABF352ABB( undefined, undefined, groupname, undefined, 3 );
                _id_EF178BB38661FF1B = undefined;

                if ( _id_F1548C57038E1B7A.size > 0 )
                {
                    _id_25DD3020969AA0F6 = _id_120270BD0A747A35::_id_3A17F0CCDDC999B4( obj.trigger.origin, _id_F1548C57038E1B7A, _id_F1548C57038E1B7A.size, 256, 0 );
                    _id_25DD3020969AA0F6 = scripts\engine\utility::array_randomize( _id_25DD3020969AA0F6 );

                    if ( _id_25DD3020969AA0F6.size > 0 )
                        _id_EF178BB38661FF1B = _id_25DD3020969AA0F6[0];
                }

                spawnorigin = obj.trigger.origin;

                if ( isdefined( _id_EF178BB38661FF1B ) )
                    spawnorigin = _id_EF178BB38661FF1B.origin;

                agent = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( aitype, spawnorigin, ( 0, 0, 0 ), "medium", "everybody", "captureAgents", groupname, undefined, undefined, undefined, 1, 1 );

                if ( isdefined( agent ) )
                {
                    _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );

                    if ( isdefined( _id_EF178BB38661FF1B ) )
                        _id_120270BD0A747A35::_id_2B26D000F2CCFC11( agent, _id_EF178BB38661FF1B );
                    else
                        agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );

                    if ( isdefined( obj._id_3BF790F79CB25065 ) )
                        agent setgoalvolumeauto( obj._id_3BF790F79CB25065 );
                }
            }
        }

        _id_40E875A042B82875 = getdvarint( "dvar_6BD0AE2B33A87D23", 0 );

        if ( _id_40E875A042B82875 > 0 )
        {
            for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_40E875A042B82875; _id_AC0E594AC96AA3A8++ )
            {
                _id_EF178BB38661FF1B = undefined;

                if ( _id_F1548C57038E1B7A.size > 0 )
                {
                    _id_25DD3020969AA0F6 = _id_120270BD0A747A35::_id_3A17F0CCDDC999B4( obj.trigger.origin, _id_F1548C57038E1B7A, _id_F1548C57038E1B7A.size, 256, 0 );
                    _id_25DD3020969AA0F6 = scripts\engine\utility::array_randomize( _id_25DD3020969AA0F6 );

                    if ( _id_25DD3020969AA0F6.size > 0 )
                        _id_EF178BB38661FF1B = _id_25DD3020969AA0F6[0];
                }

                spawnorigin = obj.trigger.origin;

                if ( isdefined( _id_EF178BB38661FF1B ) )
                    spawnorigin = _id_EF178BB38661FF1B.origin;

                agent = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( "actor_enemy_mp_jugg_aq", spawnorigin, ( 0, 0, 0 ), "absolute", "everybody", "jugg", groupname, undefined, undefined, undefined, 1, 1 );

                if ( isdefined( agent ) )
                {
                    _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );
                    _id_371B4C2AB5861E62::_id_1828F1E20E52B418( agent );
                    _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );

                    if ( isdefined( _id_EF178BB38661FF1B ) )
                        _id_120270BD0A747A35::_id_2B26D000F2CCFC11( agent, _id_EF178BB38661FF1B );
                    else
                        agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );

                    if ( isdefined( obj._id_3BF790F79CB25065 ) )
                        agent setgoalvolumeauto( obj._id_3BF790F79CB25065 );
                }
            }
        }
    }

    if ( getdvarint( "dvar_8D1F02F0286BC046", 1 ) == 1 )
        level thread _id_D4ED75580B9194A4();
}

_id_D4ED75580B9194A4()
{
    _id_07CC35FCA541E45F = ( -38000, -22000, 250 );
    _id_63F440469B8860F9 = 512;
    _id_63F43F469B885EC6 = 512;
    _id_D3ABC028986E8ADC = 12;
    _id_D3ABC128986E8D0F = 7;
    _id_2AF470FD7B0D1E70 = ( 0, 25, 0 );
    _id_AA5C10FD1D82B3C2 = anglestoforward( _id_2AF470FD7B0D1E70 );
    _id_8E38EF517E5E67BD = anglestoright( _id_2AF470FD7B0D1E70 );
    spawnpoints = [];

    for ( x = 2; x < _id_D3ABC028986E8ADC; x++ )
    {
        for ( y = 2; y < _id_D3ABC128986E8D0F; y++ )
            spawnpoints[spawnpoints.size] = _id_07CC35FCA541E45F + _id_AA5C10FD1D82B3C2 * x * _id_63F440469B8860F9 + _id_8E38EF517E5E67BD * y * _id_63F43F469B885EC6;
    }

    foreach ( origin in spawnpoints )
    {
        _id_5836C6D53A5F99A2 = getnodesinradiussorted( origin, 512, 0, 512, "Path", 1 );

        if ( isdefined( _id_5836C6D53A5F99A2[0] ) )
        {
            spawnorigin = _id_5836C6D53A5F99A2[0].origin;
            groupname = _id_48814951E916AF89::_id_78759441C259F58A( spawnorigin );
            aitype = _id_48814951E916AF89::_id_D5BC07EABF352ABB();
            agent = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( aitype, spawnorigin, ( 0, 0, 0 ), "medium", "everybody", "captureAgents", groupname, undefined, undefined, undefined, 1, 1 );

            if ( isdefined( agent ) )
            {
                _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );
                agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 1024, 512 );
            }
        }
    }

    text = 0;
}

_id_A30A48F0C1A403EC( objectivekey, team, numagents, _id_40E875A042B82875 )
{
    if ( !istrue( level._id_EAA760F325371803 ) )
        return;

    obj = level.objectives[objectivekey];
    groupname = _id_48814951E916AF89::_id_78759441C259F58A( obj.trigger.origin );
    _id_9815FCE1944A6AE0 = _id_120270BD0A747A35::_id_2E33F8E46F95167C( obj.trigger.origin, 1024, 1 );
    _id_F1548C57038E1B7A = scripts\engine\utility::array_combine( _id_9815FCE1944A6AE0._id_E67F0B2EA7AE69ED, _id_9815FCE1944A6AE0._id_8A055A821DDA7DA0, _id_9815FCE1944A6AE0._id_3288C473E8336AB4 );

    if ( !isdefined( numagents ) )
        numagents = getdvarint( "dvar_9E91A52D9DF515A0", 5 );

    if ( numagents > 0 )
    {
        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < numagents; _id_AC0E594AC96AA3A8++ )
        {
            aitype = _id_48814951E916AF89::_id_D5BC07EABF352ABB();
            agent = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( aitype, obj.trigger.origin, ( 0, 0, 0 ), "medium", "everybody", "captureAgents", groupname, team, undefined, undefined, 1, 1 );

            if ( isdefined( agent ) )
            {
                _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );

                if ( _id_F1548C57038E1B7A.size > 0 )
                {
                    _id_25DD3020969AA0F6 = _id_120270BD0A747A35::_id_3A17F0CCDDC999B4( agent.origin, _id_F1548C57038E1B7A, _id_F1548C57038E1B7A.size, 256, 0 );
                    _id_25DD3020969AA0F6 = scripts\engine\utility::array_randomize( _id_25DD3020969AA0F6 );

                    if ( _id_25DD3020969AA0F6.size > 0 )
                    {
                        agent.balwayscoverexposed = 1;
                        _id_120270BD0A747A35::_id_2B26D000F2CCFC11( agent, _id_25DD3020969AA0F6[0] );
                    }
                    else
                        agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );
                }
                else
                    agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );

                agent setgoalvolumeauto( obj._id_3BF790F79CB25065 );
                agent.objectivekey = objectivekey;
                level._id_141462A19F98285A[objectivekey][team].agents[level._id_141462A19F98285A[objectivekey][team].agents.size] = agent;
            }
        }
    }

    if ( !isdefined( _id_40E875A042B82875 ) )
        _id_40E875A042B82875 = getdvarint( "dvar_B191B8B0B5527C26", 0 );

    if ( _id_40E875A042B82875 > 0 )
    {
        for ( _id_AC0E594AC96AA3A8 = 0; _id_AC0E594AC96AA3A8 < _id_40E875A042B82875; _id_AC0E594AC96AA3A8++ )
        {
            agent = _id_48814951E916AF89::_id_EA94A8BF24D3C5EF( "actor_enemy_mp_jugg_aq", obj.trigger.origin, ( 0, 0, 0 ), "absolute", "everybody", "jugg", groupname, undefined, undefined, undefined, 1, 1 );

            if ( isdefined( agent ) )
            {
                _id_0FD32F08E72B657F::_id_35C195DF2BA46725( agent, "team_eighty" );
                _id_371B4C2AB5861E62::_id_1828F1E20E52B418( agent );

                if ( _id_F1548C57038E1B7A.size > 0 )
                {
                    _id_25DD3020969AA0F6 = _id_120270BD0A747A35::_id_3A17F0CCDDC999B4( agent.origin, _id_F1548C57038E1B7A, _id_F1548C57038E1B7A.size, 256, 0 );
                    _id_25DD3020969AA0F6 = scripts\engine\utility::array_randomize( _id_25DD3020969AA0F6 );

                    if ( _id_25DD3020969AA0F6.size > 0 )
                    {
                        agent.balwayscoverexposed = 1;
                        _id_120270BD0A747A35::_id_2B26D000F2CCFC11( agent, _id_25DD3020969AA0F6[0] );
                    }
                    else
                        agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );
                }
                else
                    agent thread _id_120270BD0A747A35::_id_9BBF1713A14FA580( agent, 256, 256 );

                agent setgoalvolumeauto( obj._id_3BF790F79CB25065 );
            }
        }
    }
}

_id_3B97B97E14948C02( _id_34CE337E073A0C34, _id_93390A6953905FEF )
{
    _id_9B3BB378DB91CF83 = spawnstruct();
    _id_9B3BB378DB91CF83.origin = _id_34CE337E073A0C34;
    _id_4F922AF45D0CAC6C = sortbydistance( level._id_B6D8EEC09E6F3C63._id_4F922AF45D0CAC6C, _id_9B3BB378DB91CF83.origin );
    _id_29376CACC64CC4E6 = _id_2BC0B0102F9B7751::_id_321665DCDCBF401E( _id_4F922AF45D0CAC6C, _id_34CE337E073A0C34 );

    if ( isdefined( _id_29376CACC64CC4E6 ) )
        return _id_29376CACC64CC4E6;

    return undefined;
}

_id_5CD456D9B2CDC538( agent, _id_6181DE250AFA5BB6 )
{
    if ( !isdefined( agent.objectivekey ) || !scripts\mp\utility\teams::isgameplayteam( agent.team ) )
        return;

    level._id_141462A19F98285A[agent.objectivekey][agent.team].agents = scripts\engine\utility::array_remove( level._id_141462A19F98285A[agent.objectivekey][agent.team].agents, agent );
}

_id_848D0782943B416D()
{
    _id_48814951E916AF89::_id_93ADD0B65DB9F722( ::_id_5CD456D9B2CDC538, level );
    _id_BCCBF55E003F6240 = getdvarint( "dvar_9E91A52D9DF515A0", 5 );
    _id_FDE40312BD18AE9E = getdvarint( "dvar_0EBADB231161DE9D", 2 );
    _id_68299821AD1626E0 = getdvarint( "dvar_084F9BF19EB2301E", 30 ) * 1000;
    level._id_141462A19F98285A = [];

    foreach ( key, obj in level.objectives )
    {
        level._id_141462A19F98285A[key] = [];

        foreach ( team in level.teamnamelist )
        {
            data = spawnstruct();
            data.agents = [];
            data._id_8E55C5943A080A2E = 0;
            level._id_141462A19F98285A[key][team] = data;
        }
    }

    for (;;)
    {
        foreach ( key, obj in level.objectives )
        {
            wait 1.0;
            team = obj.ownerteam;

            if ( team == "neutral" )
                continue;

            currenttime = gettime();

            if ( currenttime < level._id_141462A19F98285A[key][team]._id_8E55C5943A080A2E + _id_68299821AD1626E0 )
                continue;

            _id_9CC5BE111B6FA65C = [];

            foreach ( agent in level._id_141462A19F98285A[key][team].agents )
            {
                if ( agent.health > 0 )
                    _id_9CC5BE111B6FA65C[_id_9CC5BE111B6FA65C.size] = agent;
            }

            level._id_141462A19F98285A[key][team].agents = _id_9CC5BE111B6FA65C;
            _id_3E955591D6FEBC8D = level._id_141462A19F98285A[key][team].agents.size;

            if ( _id_3E955591D6FEBC8D <= _id_FDE40312BD18AE9E )
            {
                level thread _id_A30A48F0C1A403EC( key, team, _id_BCCBF55E003F6240 - _id_3E955591D6FEBC8D, 0 );
                level._id_141462A19F98285A[key][team]._id_8E55C5943A080A2E = currenttime;
            }
        }
    }
}

_id_9CD290910C24D4D3()
{
    items = [];
    _id_9FD35FFD09E2A230 = _id_2D9D24F7C63AC143::_id_57931A717F140EBE( self );

    foreach ( weapon in _id_9FD35FFD09E2A230 )
    {
        variantid = weapon.variantid;

        if ( !isdefined( weapon.variantid ) )
            variantid = 0;

        _id_AB501F397D3CD312 = _id_2669878CF5A1B6BC::getweaponrootname( weapon );
        ref = _id_AB501F397D3CD312 + "_variant_" + variantid;
        lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref, "weapon" );

        if ( isdefined( lootid ) && lootid > 0 )
        {
            item = spawnstruct();
            item.lootid = lootid;
            item.ref = _id_AB501F397D3CD312;
            item.attachments = weapon.attachments;
            item.camo = weapon.camo;
            item.reticle = weapon.reticle;
            item.variantid = variantid;
            item.quantity = 1;

            if ( !isdefined( items["loadoutPrimary"] ) )
                items["loadoutPrimary"] = item;
            else if ( !isdefined( items["loadoutSecondary"] ) )
                items["loadoutSecondary"] = item;
        }
    }

    self.pers["br_ammo"] = self.br_ammo;
    ref = scripts\mp\equipment::getcurrentequipment( "primary" );
    _id_212E6B7D207A0089 = scripts\mp\equipment::getequipmentslotammo( "primary" );
    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref, "lethal" );

    if ( isdefined( lootid ) && _id_212E6B7D207A0089 > 0 )
    {
        item = spawnstruct();
        item.lootid = lootid;
        item.ref = ref;
        item.quantity = 1;
        items["loadoutEquipmentPrimary"] = item;
    }

    ref = scripts\mp\equipment::getcurrentequipment( "secondary" );
    _id_212E6B7D207A0089 = scripts\mp\equipment::getequipmentslotammo( "secondary" );
    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref, "tactical" );

    if ( isdefined( lootid ) && _id_212E6B7D207A0089 > 0 )
    {
        item = spawnstruct();
        item.lootid = lootid;
        item.ref = ref;
        item.quantity = 1;
        items["loadoutEquipmentSecondary"] = item;
    }

    ref = scripts\mp\equipment::getcurrentequipment( "super" );
    ref = _id_600B944A95C3A7BF::_id_151B82E1257F4CDE( ref );
    _id_212E6B7D207A0089 = _id_1E4A61DB11011446::getsuperweapondisabledammobr();
    lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref, "field_upgrade" );

    if ( isdefined( lootid ) && _id_212E6B7D207A0089 > 0 )
    {
        item = spawnstruct();
        item.lootid = lootid;
        item.ref = ref;
        item.quantity = 1;
        items["loadoutFieldUpgrade1"] = item;
    }

    ref = scripts\mp\killstreaks\killstreaks::getkillstreakinslot( 1 );

    if ( isdefined( ref ) )
    {
        lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( ref.streakname, "killstreak" );

        if ( isdefined( lootid ) )
        {
            item = spawnstruct();
            item.lootid = lootid;
            item.ref = ref;
            item.quantity = 1;
            items["loadoutKillstreak1"] = item;
        }
    }

    if ( _id_2CEDCC356F1B9FC8::hasplatepouch() )
    {
        lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( "armor_satchel", "consumable" );

        if ( isdefined( lootid ) )
        {
            item = spawnstruct();
            item.lootid = lootid;
            item.quantity = 1;
            items["armorSatchel"] = item;
        }
    }

    itemname = self.equipment["health"];
    _id_9BE70D6D4FF253A1 = scripts\mp\equipment::getequipmentslotammo( "health" );

    if ( isdefined( itemname ) && isdefined( _id_9BE70D6D4FF253A1 ) && _id_9BE70D6D4FF253A1 > 0 )
    {
        item = spawnstruct();
        item.lootid = _id_600B944A95C3A7BF::_id_A50B607D2500DDA5( "armor_plate", "consumable" );
        item.quantity = _id_9BE70D6D4FF253A1;
        items["armorPlates"] = item;
    }

    return items;
}

_id_A17CE79209CECCFC()
{
    if ( istrue( level._id_B543C0A24964346E ) )
        return;

    foreach ( player in level.players )
    {
        player.pers["gamemodeLoadout"] = level._id_3800B8F9E799AE2C;

        if ( scripts\mp\utility\player::isreallyalive( player ) )
        {
            _id_414B281CD48C16D3 = player _id_9CD290910C24D4D3();

            if ( isdefined( _id_414B281CD48C16D3["loadoutPrimary"] ) )
            {
                player.pers["gamemodeLoadout"]["loadoutPrimary"] = _id_414B281CD48C16D3["loadoutPrimary"].ref;

                for ( _id_DF6D8E005B4B8020 = 0; _id_DF6D8E005B4B8020 < 7; _id_DF6D8E005B4B8020++ )
                {
                    _id_EFBDCD88107AF5F9 = scripts\mp\class::getattachmentloadoutstring( _id_DF6D8E005B4B8020, "primary" );
                    player.pers["gamemodeLoadout"][_id_EFBDCD88107AF5F9] = _id_414B281CD48C16D3["loadoutPrimary"].attachments[_id_DF6D8E005B4B8020];
                }

                player.pers["gamemodeLoadout"]["loadoutPrimaryCamo"] = _id_414B281CD48C16D3["loadoutPrimary"].camo;
                player.pers["gamemodeLoadout"]["loadoutPrimaryReticle"] = _id_414B281CD48C16D3["loadoutPrimary"].reticle;
                player.pers["gamemodeLoadout"]["loadoutPrimaryVariantID"] = _id_414B281CD48C16D3["loadoutPrimary"].variantid;
            }

            if ( isdefined( _id_414B281CD48C16D3["loadoutSecondary"] ) )
            {
                player.pers["gamemodeLoadout"]["loadoutSecondary"] = _id_414B281CD48C16D3["loadoutSecondary"].ref;

                for ( _id_DF6D8E005B4B8020 = 0; _id_DF6D8E005B4B8020 < 7; _id_DF6D8E005B4B8020++ )
                {
                    _id_EFBDCD88107AF5F9 = scripts\mp\class::getattachmentloadoutstring( _id_DF6D8E005B4B8020, "secondary" );
                    player.pers["gamemodeLoadout"][_id_EFBDCD88107AF5F9] = _id_414B281CD48C16D3["loadoutSecondary"].attachments[_id_DF6D8E005B4B8020];
                }

                player.pers["gamemodeLoadout"]["loadoutSecondaryCamo"] = _id_414B281CD48C16D3["loadoutSecondary"].camo;
                player.pers["gamemodeLoadout"]["loadoutSecondaryReticle"] = _id_414B281CD48C16D3["loadoutSecondary"].reticle;
                player.pers["gamemodeLoadout"]["loadoutSecondaryVariantID"] = _id_414B281CD48C16D3["loadoutSecondary"].variantid;
            }

            if ( isdefined( _id_414B281CD48C16D3["loadoutEquipmentPrimary"] ) )
                player.pers["gamemodeLoadout"]["loadoutEquipmentPrimary"] = _id_414B281CD48C16D3["loadoutEquipmentPrimary"].ref;

            if ( isdefined( _id_414B281CD48C16D3["loadoutEquipmentSecondary"] ) )
                player.pers["gamemodeLoadout"]["loadoutEquipmentSecondary"] = _id_414B281CD48C16D3["loadoutEquipmentSecondary"].ref;

            if ( isdefined( _id_414B281CD48C16D3["loadoutFieldUpgrade1"] ) )
                player.pers["gamemodeLoadout"]["loadoutFieldUpgrade1"] = _id_414B281CD48C16D3["loadoutFieldUpgrade1"].ref;

            if ( isdefined( _id_414B281CD48C16D3["loadoutKillstreak1"] ) )
                player.pers["gamemodeLoadout"]["loadoutKillstreak1"] = _id_414B281CD48C16D3["loadoutKillstreak1"].ref;

            if ( isdefined( _id_414B281CD48C16D3["armorSatchel"] ) )
                player.pers["gamemodeLoadout"]["armorSatchel"] = _id_414B281CD48C16D3["armorSatchel"];

            if ( isdefined( _id_414B281CD48C16D3["armorPlates"] ) )
                player.pers["gamemodeLoadout"]["armorPlates"] = _id_414B281CD48C16D3["armorPlates"].quantity;
        }
    }

    level._id_B543C0A24964346E = 1;
}

ontimelimit()
{
    if ( level.gameended )
        return;

    foreach ( obj in level.objectives )
    {
        if ( obj.claimteam != "none" || obj.stalemate )
            return;
    }

    if ( getdvarint( "dvar_8F25CEFEAED5250D", 1 ) == 1 )
        _id_354EBFF91B3C29CA();

    _id_A17CE79209CECCFC();
    scripts\mp\gamelogic::default_ontimelimit();
}

onscorelimit( winner )
{
    if ( level.gameended )
        return;

    if ( getdvarint( "dvar_8F25CEFEAED5250D", 1 ) == 1 )
        _id_354EBFF91B3C29CA();

    _id_A17CE79209CECCFC();
}

_id_947925F5FC6939A3()
{
    if ( level.gameended )
        return;

    if ( getdvarint( "dvar_8F25CEFEAED5250D", 1 ) == 1 )
        _id_354EBFF91B3C29CA();

    _id_A17CE79209CECCFC();
    return 1;
}

_id_354EBFF91B3C29CA()
{
    _id_2704EDA0A8D8EA7A = scripts\mp\agents\agent_utility::getactiveagentsoftype( "all" );

    foreach ( agent in _id_2704EDA0A8D8EA7A )
        scripts\mp\agents\agent_utility::killagent( agent );
}

zone_onuse( _id_22282E7D48CA3400 )
{
    scripts\mp\gameobjects::setownerteam( _id_22282E7D48CA3400.team );
    scripts\mp\gamescore::giveteamscoreforobjective( _id_22282E7D48CA3400.team, 1, 0 );

    if ( istrue( level._id_EAA760F325371803 ) )
        level thread _id_A30A48F0C1A403EC( self.objectivekey, self.ownerteam );
}

_id_3E175C0B6527751F()
{
    _id_EF62E7D81F148B39 = [];
    _id_C6CD9D2C6AD18DD6 = spawnstruct();
    _id_C6CD9D2C6AD18DD6.origin = ( -36817, -23834, 255 );
    _id_C6CD9D2C6AD18DD6.angles = ( 0, 302, 0 );
    _id_EF62E7D81F148B39[_id_EF62E7D81F148B39.size] = _id_C6CD9D2C6AD18DD6;
    _id_C6CD9D2C6AD18DD6 = spawnstruct();
    _id_C6CD9D2C6AD18DD6.origin = ( -33345, -24830, 256 );
    _id_C6CD9D2C6AD18DD6.angles = ( 0, 236, 0 );
    _id_EF62E7D81F148B39[_id_EF62E7D81F148B39.size] = _id_C6CD9D2C6AD18DD6;
    _id_C6CD9D2C6AD18DD6 = spawnstruct();
    _id_C6CD9D2C6AD18DD6.origin = ( -31695, -22035, 256 );
    _id_C6CD9D2C6AD18DD6.angles = ( 0, 154, 0 );
    _id_EF62E7D81F148B39[_id_EF62E7D81F148B39.size] = _id_C6CD9D2C6AD18DD6;
    _id_C6CD9D2C6AD18DD6 = spawnstruct();
    _id_C6CD9D2C6AD18DD6.origin = ( -32684, -20101, 261 );
    _id_C6CD9D2C6AD18DD6.angles = ( 0, 96, 0 );
    _id_EF62E7D81F148B39[_id_EF62E7D81F148B39.size] = _id_C6CD9D2C6AD18DD6;
    _id_C6CD9D2C6AD18DD6 = spawnstruct();
    _id_C6CD9D2C6AD18DD6.origin = ( -36176, -19765, 264 );
    _id_C6CD9D2C6AD18DD6.angles = ( 0, 335, 0 );
    _id_EF62E7D81F148B39[_id_EF62E7D81F148B39.size] = _id_C6CD9D2C6AD18DD6;
    count = getdvarint( "dvar_A4708AD20D0D266E", 3 );
    _id_EF62E7D81F148B39 = scripts\engine\utility::array_randomize( _id_EF62E7D81F148B39 );
    _id_EF62E7D81F148B39 = scripts\engine\utility::array_slice( _id_EF62E7D81F148B39, 0, count );
    return _id_EF62E7D81F148B39;
}

allowclasschoicefunc()
{
    return level.allowclasschoice;
}
